<!DOCTYPE html>

<html>

  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/style.css">

    <!-- <script src="js/script_3changePic.js" async defer></script> -->
  
  </head>

  <body>

    <img id="bgimage_on" src = "bilder/Radio_01.jpg" class="bgimg01"></img>

    <article>  
      <input type="image" id="but01" class="button_01" name="imgbtn" onclick="toDo()" src="bilder/button_image.jpg"  alt="img button">
    </article>  

    <audio id="audioplayer" loop='true'> <!-- Remove the "Controls" Attribute if you don't want the visual controls -->
    </audio>



<script>

  function toDo(){
    changePicture(); selectRandom();
    }

 //The stuff to change the pics

  var xchange = true;
  
  function changePicture() {
    var current = document.getElementById("bgimage_on");
    if(xchange) {
      current.src = "bilder/Radio_01.jpg"
      xchange = false;
    } else {
      current.src = "bilder/Radio_02.jpg"
      xchange = true;
    }
  }

//The stuff to change the audiofiles and play them

var lastSong = null;
var selection = null;
var playlist = ["sounds/Der Tr√ºffelo.mp3", "sounds/Ehrlicher Erwin.mp3", "sounds/Vegas.mp3"]; // List of songs
var player = document.getElementById("audioplayer"); // Get audio element


player.addEventListener("ended", selectRandom); // Run function when the song ends
player.autoplay = false;

function selectRandom(){
    while(selection == lastSong){ // Repeat until a different song is selected
        selection = Math.floor(Math.random() * playlist.length);
    }
    lastSong = selection; // Remember the last song
    player.src = playlist[selection]; // Tell HTML the location of the new song
    player.play();
}

selectRandom(); // Select initial song
player.play(); // Start song

</script>

  
  </body>

</html>